#Horizontal Pod AutoScaler (HPA)

apiVersion: autoscaling/v1
kind: HorizontalPodAutoscaler
metadata:
 name: testing-hpa

spec:
 scaleTargetRef:
   apiVersion: apps/v1beta1
   kind: Deployment
   name: 2048-app
 minReplicas: 1
 maxReplicas: 3
 targetCPUUtilizationPercentage: 20
 #Scaling Behavior
 behavior:
  scaleDown:
    stabilizationWindowSeconds: 300
    policies:
    - type: Percent
      value: 100
      periodSeconds: 15
  scaleUp:
    stabilizationWindowSeconds: 0
    policies:
    - type: Percent
      value: 100
      periodSeconds: 15
    - type: Pods
      value: 4
      periodSeconds: 15
    selectPolicy: Max
